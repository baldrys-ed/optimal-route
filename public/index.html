<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–£–¥–æ–±–Ω—ã–π –ø—É—Ç—å</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>

<header class="py-4 mb-2">
    <div class="container">
        <h1 class="fw-bold mb-1">–£–¥–æ–±–Ω—ã–π –ø—É—Ç—å</h1>
        <p class="text-muted mb-0">–ù–∞–π–¥–∏—Ç–µ –±–ª–∏–∂–∞–π—à–∏–µ –æ–±—ä–µ–∫—Ç—ã –∏ –æ—Ü–µ–Ω–∏—Ç–µ –ø–µ—à–µ—Ö–æ–¥–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç</p>
    </div>
</header>

<main class="container pb-5">
    <div class="row g-4">

        <!-- Left panel -->
        <div class="col-lg-4">

            <!-- Search panel -->
            <div class="card shadow-sm mb-3">
                <div class="card-body">
                    <h5 class="card-title mb-4">–ü–æ–∏—Å–∫ –º–∞—Ä—à—Ä—É—Ç–∞</h5>

                    <div class="mb-3 position-relative">
                        <label class="form-label">
                            <span class="point-badge point-a">A</span> –í–∞—à –∞–¥—Ä–µ—Å
                        </label>
                        <input type="text" id="home-input" class="form-control"
                               placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–≤–æ–π –∞–¥—Ä–µ—Å..." autocomplete="off">
                        <div id="home-suggestions" class="suggestions-dropdown"></div>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">–ß—Ç–æ –∏—â–µ–º</label>
                        <select id="poi-type" class="form-select">
                            <option value="–ø—Ä–æ–¥—É–∫—Ç–æ–≤—ã–π –º–∞–≥–∞–∑–∏–Ω" data-icon="üõí">üõí –ü—Ä–æ–¥—É–∫—Ç–æ–≤—ã–π –º–∞–≥–∞–∑–∏–Ω</option>
                            <option value="—Å—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç" data-icon="üè™">üè™ –°—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç</option>
                            <option value="–∞–ø—Ç–µ–∫–∞" data-icon="üíä">üíä –ê–ø—Ç–µ–∫–∞</option>
                            <option value="—à–∫–æ–ª–∞" data-icon="üè´">üè´ –®–∫–æ–ª–∞</option>
                            <option value="–ø–æ–ª–∏–∫–ª–∏–Ω–∏–∫–∞" data-icon="üè•">üè• –ü–æ–ª–∏–∫–ª–∏–Ω–∏–∫–∞</option>
                            <option value="–ø–∞—Ä–∫" data-icon="üå≥">üå≥ –ü–∞—Ä–∫</option>
                            <option value="—Å–ø–æ—Ä—Ç–∏–≤–Ω–∞—è –ø–ª–æ—â–∞–¥–∫–∞" data-icon="üèÉ">üèÉ –°–ø–æ—Ä—Ç–ø–ª–æ—â–∞–¥–∫–∞</option>
                        </select>
                    </div>

                    <div class="mb-4">
                        <label class="form-label">–†–∞–¥–∏—É—Å –ø–æ–∏—Å–∫–∞</label>
                        <select id="search-radius" class="form-select">
                            <option value="500">500 –º</option>
                            <option value="1000" selected>1 –∫–º</option>
                            <option value="2000">2 –∫–º</option>
                            <option value="3000">3 –∫–º</option>
                        </select>
                    </div>

                    <button id="search-btn" class="btn btn-primary w-100" disabled>
                        –ù–∞–π—Ç–∏ –æ–±—ä–µ–∫—Ç—ã
                    </button>
                </div>
            </div>

            <!-- POI list (hidden until search) -->
            <div id="poi-card" class="card shadow-sm mb-3 d-none">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h6 class="mb-0 fw-semibold" id="poi-card-title">–ù–∞–π–¥–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã</h6>
                        <span class="badge bg-secondary" id="poi-count"></span>
                    </div>
                    <div id="poi-list"></div>
                </div>
            </div>

            <!-- Score card (hidden until route built) -->
            <div id="score-card" class="card shadow-sm d-none">
                <div class="card-body">

                    <div class="d-flex justify-content-between align-items-start mb-3">
                        <h5 class="card-title mb-0">–û—Ü–µ–Ω–∫–∞ –º–∞—Ä—à—Ä—É—Ç–∞</h5>
                        <button id="back-btn" class="btn btn-sm btn-outline-secondary py-0">‚Üê –°–ø–∏—Å–æ–∫</button>
                    </div>

                    <div id="selected-poi-name" class="text-muted small mb-3"></div>

                    <!-- Score circle -->
                    <div class="text-center mb-4">
                        <div class="score-circle mx-auto" id="score-circle">
                            <span id="total-score">‚Äî</span>
                        </div>
                        <div class="text-muted small mt-1">–∏–∑ 10 –±–∞–ª–ª–æ–≤</div>
                        <div id="score-label" class="mt-2"></div>
                    </div>

                    <!-- Route stats -->
                    <div class="row text-center mb-3 g-0 stats-row">
                        <div class="col-6 border-end">
                            <div class="text-muted small">–í—Ä–µ–º—è –≤ –ø—É—Ç–∏</div>
                            <div id="stat-duration" class="fw-semibold fs-5">‚Äî</div>
                        </div>
                        <div class="col-6">
                            <div class="text-muted small">–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ</div>
                            <div id="stat-distance" class="fw-semibold fs-5">‚Äî</div>
                        </div>
                    </div>

                    <!-- Formula breakdown -->
                    <div id="score-breakdown" class="mb-3"></div>

                    <!-- Crossing counters -->
                    <div id="crossing-summary"></div>


                </div>
            </div>

        </div>

        <!-- Map -->
        <div class="col-lg-8">
            <div id="map">
                <div id="map-loading" class="map-placeholder">
                    <div class="spinner-border text-primary mb-3" role="status"></div>
                    <div class="text-muted">–ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ä—Ç—ã‚Ä¶</div>
                </div>
                <div id="map-error" class="map-placeholder d-none">
                    <div class="text-danger fs-1 mb-2">‚ö†</div>
                    <div class="fw-semibold mb-1">–ö–∞—Ä—Ç–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞</div>
                    <div id="map-error-text" class="text-muted small"></div>
                </div>
            </div>
            <div id="map-hint" class="text-center text-muted small mt-2">
                –í–≤–µ–¥–∏—Ç–µ —Å–≤–æ–π –∞–¥—Ä–µ—Å –∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –æ–±—ä–µ–∫—Ç–æ–≤
            </div>
        </div>

    </div>
</main>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="assets/js/app.js"></script>

</body>
</html>
